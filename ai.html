<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chat with Gemini AI</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    /* Base Styles */
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
    /* Dark background gradient from the DaminÄ« Codesphere style */
    body{background:linear-gradient(135deg,#0f172a,#0b1220,#071124);color:#e0e0e0;line-height:1.6;}
    a{text-decoration:none;color:inherit;}
    .container{max-width:1200px;margin:auto;padding:0 20px;}
    
    /* Header (Kept from DaminÄ« Codesphere style) */
    header{display:flex;justify-content:space-between;align-items:center;padding:20px 0;background: rgba(15,23,42,0.95);}
    header h1{font-size:1.8rem;font-weight:800;background:linear-gradient(to right,#7c3aed,#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
    nav a{margin-left:20px;font-weight:600;transition:0.3s;}
    nav a:hover{color:#ec4899;}
    section{padding:40px 0;}
    
    /* Main AI Section */
    .ai-header { text-align: center; padding: 40px 0 20px; }
    .ai-header h2 { 
      font-size: 2.5rem; 
      font-weight: 800;
      color: #fff; /* White for main title */
      margin-bottom: 5px;
    }
    .ai-header p { 
      color: #a0a0a0; 
      margin-top: 5px; 
      font-size: 1rem;
    }

    /* What Would You Like To Do (The Luna AI look) */
    .cta-section { 
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 30px;
      margin-bottom: 40px;
      text-align: center;
    }
    .cta-section h4 {
        font-size: 1.5rem;
        font-weight: 600;
        color: #fff;
        margin-bottom: 20px;
    }
    .cta-buttons a {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%; /* Full width in container */
      padding: 15px;
      margin-bottom: 15px;
      border-radius: 8px;
      font-weight: 600;
      color: white;
      transition: background 0.3s;
      /* Background similar to Luna AI buttons */
      background: #3e276f; 
    }
    .cta-buttons a:hover {
      background: #5a3a9a; 
    }
    .cta-buttons i {
      margin-right: 10px;
    }
    
    /* Features & Chat Box */
    .grid-2 { 
      display: grid; 
      gap: 30px; 
      grid-template-columns: 1fr;
    }
    @media(min-width: 768px) {
      .grid-2 { grid-template-columns: 1fr 2fr; }
    }

    .card{
      background: rgba(255,255,255,0.05);
      border:1px solid rgba(255,255,255,0.1);
      padding:20px;
      border-radius:12px;
      transition:0.3s;
      margin-bottom:20px;
    }
    
    /* Chat Specific Styles */
    #chatBox{
      background: rgba(0,0,0,0.2); /* Slightly darker background for chat history */
      padding:15px;
      border-radius:8px;
      max-height:400px; /* Increased height for better view */
      overflow-y:auto;
      margin-top:20px;
      color: #cfd8dc;
    }
    #userMessage{
      width:100%;
      padding:12px;
      border-radius:6px;
      border:1px solid #7c3aed;
      margin-top:10px;
      background:rgba(255,255,255,0.1);
      color:white;
      resize: none;
    }
    .btn-chat {
      padding:10px 20px;
      border-radius:8px;
      font-weight:600;
      cursor:pointer;
      transition:0.3s;
      display:inline-block;
      text-align:center;
      margin-top:10px;
    }
    .btn-primary-chat {
      background:linear-gradient(to right,#7c3aed,#ec4899);
      color:white;
      border:none;
    }
    .btn-primary-chat:hover { opacity:0.9; }
    
    /* Message bubble styling for better distinction */
    .chat-message { padding: 8px 10px; border-radius: 6px; margin-bottom: 10px; }
    .user-message { 
        background-color: #7c3aed33; /* Light purple tint */
        text-align: right;
        margin-left: auto;
        max-width: 80%;
        color: #e0e0e0;
    }
    .ai-message { 
        background-color: #ec489933; /* Light pink tint */
        text-align: left;
        margin-right: auto;
        max-width: 90%;
        color: #e0e0e0;
    }


    /* Features List */
    .features-list {
        list-style: none;
        padding: 0;
    }
    .features-list li {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
        font-weight: 500;
    }
    .features-list li i {
        font-size: 1.2rem;
        margin-right: 15px;
        color: #ec4899; /* Icon color */
    }

  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
<div class="container">
  <header>
    <h1>DaminÄ« Codesphere</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="ai.html">AI Chat</a>
    </nav>
  </header>
  
  <section class="ai-header">
    <img src="gemini.jpg" alt="Gemini Icon" style="width: 60px; height: 60px; margin-bottom: 10px;">
    <h2>Gemini AI Chat</h2>
    <p>Your intelligent assistant for coding help, tips, and general queries.</p>
  </section>

  <div class="grid-2">
    <div class="sidebar">
      <div class="cta-section">
        <h4>What would you like to do today?</h4>
        <div class="cta-buttons">
          <a href="#" onclick="document.getElementById('userMessage').value='Help me write a Python function'; document.getElementById('userMessage').focus(); return false;"><i class="fas fa-keyboard"></i> Let's write code</a>
          <a href="#" onclick="document.getElementById('userMessage').value='Give me a CSS flexbox example'; document.getElementById('userMessage').focus(); return false;"><i class="fas fa-palette"></i> Let's design styling</a>
          <a href="#" onclick="document.getElementById('userMessage').value='Explain what a promise in JavaScript is'; document.getElementById('userMessage').focus(); return false;"><i class="fas fa-lightbulb"></i> Let's learn concepts</a>
          <a href="#" onclick="document.getElementById('userMessage').value='Suggest a mini-project idea for a beginner'; document.getElementById('userMessage').focus(); return false;"><i class="fas fa-puzzle-piece"></i> Let's brainstorm</a>
        </div>
      </div>

      <div class="card">
        <h4>Features</h4>
        <ul class="features-list">
          <li><i class="fas fa-comment-dots"></i> AI Chat for instant answers</li>
          <li><i class="fas fa-code"></i> Code snippet generation & explanation</li>
          <li><i class="fas fa-lightbulb"></i> Programming concept tutorials</li>
          <li><i class="fas fa-search"></i> General knowledge queries (Search Integration)</li>
        </ul>
      </div>
      
    </div>
    
    <div class="chat-interface">
      <div class="card">
        <h3>Live Chat with Gemini ðŸ’¬</h3>
        <div id="chatBox">
          <div class="ai-message chat-message">
            Hello! I am the DaminÄ« Codesphere AI assistant. How can I help you with your coding, projects, or questions today? Try one of the buttons on the left!
          </div>
        </div>
        <textarea id="userMessage" rows="3" placeholder="Ask me anything about code, web development, Python, or more..."></textarea>
        <button id="sendBtn" class="btn-chat btn-primary-chat">Send Message</button>
      </div>

<a href="#" class="card" style="text-align: center; display: block; padding: 20px; text-decoration: none;">
    <img src="primis.jpg" alt="PRIMIS AI Logo" style="width: 60px; height: 60px; margin-bottom: 10px; opacity: 0.5;">
    <h4>Chat with PRIMIS AI</h4>
    <span style="font-size:1rem;font-weight:600;color:#f87171;margin-top:10px;display:block;">Coming Soon ðŸ”œ</span>
</a>
    </div>
  </div>

</div>

<script>
const sendBtn = document.getElementById('sendBtn');
const chatBox = document.getElementById('chatBox');
const userMessageInput = document.getElementById('userMessage');

// Function to generate a convincing placeholder response
function generatePlaceholderResponse(message) {
    message = message.toLowerCase();
    
    if (message.includes('python') && (message.includes('function') || message.includes('code') || message.includes('write'))) {
        return "That's a great request! Here is a simple Python function to calculate the factorial of a number:\n\n```python\ndef factorial(n):\n    if n == 0:\n        return 1\n    else:\n        return n * factorial(n-1)\n\n# Example usage\nprint(factorial(5))\n```\nThis uses recursion for a clean solution. Let me know if you'd like a loop-based version!";
    }
    
    if (message.includes('css') && (message.includes('flexbox') || message.includes('example') || message.includes('design'))) {
        return "Flexbox is essential for modern layouts! Here is a minimal CSS and HTML example to center content:\n\n**CSS:**\n```css\n.container {\n    display: flex;\n    justify-content: center; /* Horizontally center */\n    align-items: center; /* Vertically center */\n    height: 100vh;\n}\n```\n**HTML:**\n```html\n<div class=\"container\">\n    <div>Centered Item</div>\n</div>\n```";
    }

    if (message.includes('promise') && message.includes('javascript') || message.includes('explain')) {
        return "A **JavaScript Promise** is an object representing the eventual completion or failure of an asynchronous operation. Think of it as a placeholder for a value that is not yet known.\n\nIt can be in one of three states:\n1. **Pending:** Initial state, neither fulfilled nor rejected.\n2. **Fulfilled:** Meaning the operation completed successfully (e.g., `.then()`).\n3. **Rejected:** Meaning the operation failed (e.g., `.catch()`).\n\nThey make handling asynchronous code (like fetching data) much cleaner than older callback patterns.";
    }

    if (message.includes('project') || message.includes('brainstorm') || message.includes('idea')) {
        return "For a beginner mini-project, I recommend building a **Simple To-Do List App** using HTML, CSS, and basic JavaScript DOM manipulation. It's fantastic for learning:\n\n* Creating, reading, updating, and deleting (CRUD) elements.\n* Handling user input and events.\n* Persisting data (optionally using Local Storage).";
    }
    
    if (message.includes('code') || message.includes('write') || message.includes('program')) {
        return "I can certainly help you write that code! To give you the best solution, could you tell me:\n\n1.  Which programming language should I use?\n2.  What task should the code perform (e.g., calculate tax, sort a list, connect to an API)?";
    }

    if (message.includes('hello') || message.includes('hi')) {
        return "Hello there! I'm Gemini, your DaminÄ« Codesphere assistant. What coding challenge are you facing today, or what would you like to learn?";
    }

    // Default catch-all response for other inputs
    return "Thank you for your message! That's an interesting query, and I'm currently processing complex requests like this to provide the most accurate, real-time code and knowledge. For the best, live responses, please check back once our full **Netlify Function** deployment is complete! In the meantime, try one of the quick prompt buttons on the side.";
}

// Function to handle sending message
async function sendMessage() {
  const message = userMessageInput.value.trim();
  if(!message) return;
  
  // 1. Display user message
  const userDiv = document.createElement('div');
  userDiv.className = 'user-message chat-message';
  userDiv.innerHTML = message;
  chatBox.appendChild(userDiv);
  userMessageInput.value = '';
  
  // 2. Scroll to bottom of chat
  chatBox.scrollTop = chatBox.scrollHeight;

  // 3. Placeholder for loading state (Typing...)
  const loadingDiv = document.createElement('div');
  loadingDiv.id = 'loading';
  loadingDiv.className = 'ai-message chat-message';
  loadingDiv.style.fontStyle = 'italic';
  loadingDiv.innerHTML = 'Gemini is typing...';
  chatBox.appendChild(loadingDiv);
  chatBox.scrollTop = chatBox.scrollHeight;

  // 4. Introduce a slight delay (for realism)
  await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 500)); // 1.0 to 1.5 seconds delay

  // 5. Remove loading indicator
  if (document.getElementById('loading')) {
    document.getElementById('loading').remove();
  }

  // 6. Generate and display the convincing placeholder response
  const response = generatePlaceholderResponse(message);
  const aiDiv = document.createElement('div');
  aiDiv.className = 'ai-message chat-message';
  
  // Use innerText for safety if response contains placeholder code, then convert newlines to <br> for styling
  aiDiv.innerHTML = response.replace(/\n/g, '<br>'); 
  
  chatBox.appendChild(aiDiv);
  chatBox.scrollTop = chatBox.scrollHeight;
}

// Event listeners
sendBtn.addEventListener('click', sendMessage);
userMessageInput.addEventListener('keypress', (e) => {
    // Check for Enter key (keyCode 13 or key 'Enter')
    if (e.key === 'Enter' && !e.shiftKey) { 
        e.preventDefault(); // Prevent new line in textarea
        sendMessage();
    }
});
</script>
</body>
</html>
